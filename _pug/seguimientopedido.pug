doctype html
html(lang="es")
	head
		
		include _component/head
		
	body
		
		script(src="js/functions.min.js")
		
		include _component/analytics
		
		include _component/barraSuperior
		include _component/header
		
		link(rel="stylesheet" href="css/seguimientoPedido.min.css")
		
		.seguimiento
			h1 Seguimiento de Pedido
			
			.buscador
				input( type="text" placeholder="Ingrese número de seguimiento" )
				img.lazyload( data-src="/imagenes/seguimientopedido/lupa.svg" alt="buscar" )
			
			.resultado( style="display:none;" )
				p.cargando
					img.lazyload( data-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjMDAwMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNjQgNjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDY0IDY0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTQwLDNoMS44YzAuNiwwLDEtMC40LDEtMXMtMC40LTEtMS0xSDQwYy0wLjYsMC0xLDAuNC0xLDFTMzkuNCwzLDQwLDN6Ij48L3BhdGg+PHBhdGggZD0iTTYyLDYxaC0yYy0wLjYsMC0xLDAuNC0xLDFzMC40LDEsMSwxaDJjMC42LDAsMS0wLjQsMS0xUzYyLjYsNjEsNjIsNjF6Ij48L3BhdGg+PHBhdGggZD0iTTU2LDYxaC01di01YzAtMS4zLTAuOC0yLjQtMi0yLjh2LTMuNGMwLTUuMi0yLjYtOS45LTcuMS0xMi43Yy0wLjUtMC4zLTEuMS0wLjItMS40LDAuM2MtMC4zLDAuNS0wLjIsMS4xLDAuMywxLjQgIGMzLjUsMi4yLDUuNyw1LjgsNi4xLDkuOGwtMi41LTAuOGMtMS41LTAuNS0zLjMtMC4zLTQuOCwwLjNjLTAuNSwwLjItMC43LDAuOC0wLjUsMS4zYzAuMiwwLjUsMC44LDAuNywxLjMsMC41ICBjMS4xLTAuNSwyLjMtMC42LDMuNC0wLjNsMy4yLDEuMVY1M0gxN3YtMi4zbDMuMi0xLjFjMS0wLjQsMi4yLTAuMywzLjMsMC4zYzEuNSwwLjcsMy4zLDAuOCw0LjgsMC4zbDIuMi0wLjdjMC45LTAuMywxLjgtMC4zLDIuOCwwICBsMi4yLDAuN2MwLjUsMC4yLDEuMS0wLjEsMS4zLTAuNmMwLjItMC41LTAuMS0xLjEtMC42LTEuM0wzNCw0Ny43Yy0xLjMtMC41LTIuOC0wLjUtNCwwbC0yLjIsMC43Yy0xLjEsMC4zLTIuMywwLjItMy40LTAuMyAgYy0xLjctMC44LTMuMy0wLjktNC44LTAuM2wtMi41LDAuOGMwLjQtNCwyLjYtNy43LDYuMS05LjhsNi41LTQuMWMwLjgtMC41LDEuMi0xLjIsMS40LTIuMWMwLDAsMC4zLDAuMywxLDAuM2MwLjUsMCwxLTAuMywxLTAuMyAgYzAuMSwwLjksMC42LDEuNiwxLjQsMi4xbDMuNSwyLjJjMC4yLDAuMSwxLDAuMywxLjQtMC4zYzAuMy0wLjUsMC4yLTEuMS0wLjMtMS40bC0zLjUtMi4yYy0wLjMtMC4yLTAuNS0wLjUtMC41LTAuOXMwLjItMC44LDAuNS0xICBsNi41LTQuMWM0LjQtMi43LDcuMS03LjUsNy4xLTEyLjh2LTMuNGMxLjItMC40LDItMS41LDItMi44VjRjMC0xLjctMS4zLTMtMy0zaC0yYy0wLjYsMC0xLDAuNC0xLDFzMC40LDEsMSwxaDJjMC42LDAsMSwwLjQsMSwxdjQgIGMwLDAuNi0wLjQsMS0xLDFIMTZjLTAuNiwwLTEtMC40LTEtMVY0YzAtMC42LDAuNC0xLDEtMWgyMGMwLjYsMCwxLTAuNCwxLTFzLTAuNC0xLTEtMUgxNmMtMS43LDAtMywxLjMtMywzdjRjMCwxLjMsMC44LDIuNCwyLDIuOCAgdjMuNGMwLDMuOSwxLjUsNy42LDQuMywxMC41YzAuMiwwLjIsMC45LDAuNSwxLjQsMGMwLjQtMC40LDAuNC0xLDAtMS40Yy0xLjQtMS40LTIuNC0zLjEtMy01bDIuOC0xLjRjMi4yLTEuMiw0LjktMS4yLDcuMSwwICBjMi44LDEuNSw2LjEsMS41LDguOSwwYzIuMi0xLjIsNC45LTEuMiw3LjEsMGwyLjgsMS40Yy0wLjksMi45LTIuOCw1LjQtNS41LDdsLTYuNSw0LjFjMCwwLDAsMCwwLDBMMzIsMzAuOGwtMi40LTEuNWMwLDAsMCwwLDAsMCAgbC01LjEtMy4yYy0wLjUtMC4zLTEuMS0wLjItMS40LDAuM2MtMC4zLDAuNS0wLjIsMS4xLDAuMywxLjRsNS4xLDMuMmMwLjMsMC4yLDAuNSwwLjUsMC41LDAuOXMtMC4yLDAuOC0wLjUsMUwyMi4xLDM3ICBjLTQuNCwyLjctNy4xLDcuNS03LjEsMTIuOHYzLjRjLTEuMiwwLjQtMiwxLjUtMiwyLjh2NWgtMWMtMC42LDAtMSwwLjQtMSwxczAuNCwxLDEsMWg2YzAuNiwwLDEtMC40LDEtMXMtMC40LTEtMS0xaC0zdi01ICBjMC0wLjYsMC40LTEsMS0xaDMyYzAuNiwwLDEsMC40LDEsMXY1SDIyLjJjLTAuNiwwLTEsMC40LTEsMXMwLjQsMSwxLDFINTZjMC42LDAsMS0wLjQsMS0xUzU2LjYsNjEsNTYsNjF6IE00NC41LDE1LjEgIGMtMi44LTEuNS02LjEtMS41LTguOSwwYy0yLjIsMS4yLTQuOSwxLjItNy4xLDBjLTIuOC0xLjUtNi4xLTEuNS04LjksMGwtMi40LDEuMmMtMC4xLTAuNy0wLjItMS40LTAuMi0yLjFWMTFoMzB2My4yICBjMCwwLjctMC4xLDEuNC0wLjIsMi4xTDQ0LjUsMTUuMXoiPjwvcGF0aD48cGF0aCBkPSJNOCw2MUgyYy0wLjYsMC0xLDAuNC0xLDFzMC40LDEsMSwxaDZjMC42LDAsMS0wLjQsMS0xUzguNiw2MSw4LDYxeiI+PC9wYXRoPjxwYXRoIGQ9Ik0zNi42LDI1LjljMCwwLDMuMS0xLjQsNi4xLTUuNGMwLjMtMC40LDAuMi0xLjEtMC4zLTEuNGMtMC41LTAuMy0xLjEtMC4yLTEuNCwwLjNjLTEuNCwyLjYtNS41LDQuOC01LjUsNC44ICBjLTAuNSwwLjMtMC42LDEtMC4zLDEuNEMzNS43LDI2LjMsMzYuNCwyNiwzNi42LDI1Ljl6Ij48L3BhdGg+PHBhdGggZD0iTTE4LDVjLTAuNiwwLTEsMC40LTEsMXMwLjQsMSwxLDFoMmMwLjYsMCwxLTAuNCwxLTFzLTAuNC0xLTEtMUgxOHoiPjwvcGF0aD48cGF0aCBkPSJNMjQsNWMtMC42LDAtMSwwLjQtMSwxczAuNCwxLDEsMWg4YzAuNiwwLDEtMC40LDEtMXMtMC40LTEtMS0xSDI0eiI+PC9wYXRoPjxwYXRoIGQ9Ik00Niw1OWMwLjYsMCwxLTAuNCwxLTFzLTAuNC0xLTEtMWgtMmMtMC42LDAtMSwwLjQtMSwxczAuNCwxLDEsMUg0NnoiPjwvcGF0aD48cGF0aCBkPSJNNDAsNTljMC42LDAsMS0wLjQsMS0xcy0wLjQtMS0xLTFIMzBjLTAuNiwwLTEsMC40LTEsMXMwLjQsMSwxLDFINDB6Ij48L3BhdGg+PGNpcmNsZSBjeD0iMzIiIGN5PSIzNiIgcj0iMSI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMzIiIGN5PSI0MCIgcj0iMSI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMzIiIGN5PSI0NCIgcj0iMSI+PC9jaXJjbGU+PC9zdmc+" alt="Buscando ..." )
					| Obteniendo información ...
				div.error
					p Codigo incorrecto
				div.correcto
				script( type="text/javascript" ).
					$( ".buscador img" ).click(function(){
						let codidoSeguimiento = $( ".seguimiento > .buscador > input" ).val();
						$( ".seguimiento .resultado" ).show();
						
						var getCodigoSeguimiento = function( codigo ){
							Promise.all([
								fetch( `https://spreadsheets.google.com/feeds/list/1aZlC5KaMoyEPVqbMiH8_bPCsZoh65PBW9cm0HpG8Kjk/2/public/values?alt=json` ).then(value => value.json())
							])
							.then((value) => {
								
								var data = value[0].feed.entry;
								
								for( var fila = 0; fila <= data.length-1; fila++ ) {
									
									var codigoSeguimiento = data[fila].gsx$idcompra.$t;
									
									if ( String(codigoSeguimiento) == String(codigo) ) {
										var nombre      = data[fila].gsx$nombre.$t;
										var estado      = data[fila].gsx$estadopedido.$t;
										$( ".seguimiento .resultado .correcto" ).html( `
											<h3>${codidoSeguimiento}</h3>
											<p class="saludo">Hola ${nombre}.</p>
											<h5>Estado Pedido</h5>
											<p>${estado}</p>
										` );
									};
									
								};
								
							});	
						}
						if ( codidoSeguimiento.length != 16 ) {
							$( ".seguimiento .resultado .error" ).show();
							$( ".seguimiento .resultado .correcto" ).hide();
						} else {
							getCodigoSeguimiento( codidoSeguimiento );
							$( ".seguimiento .resultado .correcto" ).show();
							$( ".seguimiento .resultado .error" ).hide();
						}
					});
			
			
			
			.covid
				h3 
					img.lazyload( data-src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDhweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iNDhweCIgZmlsbD0iI0QyNDA0MCI+PHBhdGggZD0iTTEyIDUuOTlMMTkuNTMgMTlINC40N0wxMiA1Ljk5TTEyIDJMMSAyMWgyMkwxMiAyem0xIDE0aC0ydjJoMnYtMnptMC02aC0ydjRoMnYtNHoiLz48cGF0aCBkPSJNMCAwaDI0djI0SDBWMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4K" alt="alerta" )
					| COVID-19
				p Estamos siguiendo las recomendaciones internacionales de distanciamiento social y respetando los decretos de Cuarentena y Toque de Queda de las autoridades locales. Esto ha provocado tiempos de respuesta más largos y retrasos en nuestras entregas.
				p Por favor, ten paciencia en este momento tan difícil para todos.
			
		include _component/footer
		