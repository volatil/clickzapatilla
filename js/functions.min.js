var bd="../imagenes/values.json",ventas=(bd="https://spreadsheets.google.com/feeds/list/1aZlC5KaMoyEPVqbMiH8_bPCsZoh65PBW9cm0HpG8Kjk/1/public/values?alt=json",bd="https://sheets.googleapis.com/v4/spreadsheets/1aZlC5KaMoyEPVqbMiH8_bPCsZoh65PBW9cm0HpG8Kjk/values/inventario?key=AIzaSyAOWV0qar-gsYcyp5yWS99GQlPVovkuxcU","https://sheets.googleapis.com/v4/spreadsheets/1aZlC5KaMoyEPVqbMiH8_bPCsZoh65PBW9cm0HpG8Kjk/values/Ventas?key=AIzaSyAOWV0qar-gsYcyp5yWS99GQlPVovkuxcU"),cometa=14990;const capitalize=t=>"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1);var puntuacion=function(t){return 0==(t=String(t)).length?t="":4==t.length?t="$ "+t.slice(0,1)+"."+t.slice(1):5==t.length?t="$ "+t.slice(0,2)+"."+t.slice(2):6==t.length?t="$ "+t.slice(0,3)+"."+t.slice(3):t},fechaEntrega=function(){var t=new Date,a=t.getDate(),e=t.getMonth();switch(a>=15?(a-=15,e+=1):a+=15,e){case 0:e="Enero";break;case 1:e="Febrero";break;case 2:e="Marzo";break;case 3:e="Abril";break;case 4:e="Mayo";break;case 5:e="Junio";break;case 6:e="Julio";break;case 7:e="Agosto";break;case 8:e="Septiembre";break;case 9:e="Octubre";break;case 10:e="Noviembre";break;case 11:e="Diciembre";break;default:e="2020"}return`Fecha de entrega: ${a} de ${e}.`},cuentaProductos=function(t){var a=$(".productos li:visible").length;a>=2?$(t).html("<strong>"+a+"</strong> Resultados"):1==a?$(t).html("<strong>"+a+"</strong> Resultado"):$(t).html("No se encontrarón resultados")},buscar=function(t){"todo"==t?($(".productos li").removeClass("hide"),$(".productos li").removeClass("show"),$(".buscador .filtros > ul > li").removeClass("activo")):$.each($(".productos li"),(function(){t.length<=1?($(".productos li").removeClass("hide"),$(".productos li").removeClass("show")):$(this).attr("data-zapatilla").indexOf(t)>=0?($(".productos li").addClass("hide"),$(this).addClass("show")):($(this).removeClass("show"),$(this).removeClass("hide"),$(this).addClass("hide"))}))},filtrarPorTalla=function(t){"todas"==t?$(".productos > ul li").show():$.each($(".productos > ul li"),(function(){$(this).attr("data-talla").includes(t)?($(this).show(),$(this).css("display","inline-block")):$(this).hide()}))},listaColor=function(t,a){for(var e="",s=0;s<=t.split(" ").length-1;s++){switch(t.split(" ").length){case 1:var l="somos1";break;case 2:l="somos2";break;case 3:l="somos3";break;case 4:l="somos4";break;case 5:l="somos5";break;case 6:l="somos6";break;default:l="somosVarios"}let n=t.split(" ")[s];switch(n){case"negro":e+='<span title="negro" style="background:black"></span>';break;case"amarillo":e+='<span title="amarillo" style="background:yellow"></span>';break;case"rojo":e+='<span title="rojo" style="background:red"></span>';break;case"blanco":e+='<span title="blanco" style="background:white"></span>';break;case"rosado":e+='<span title="rosado" style="background:#fe89b2"></span>';break;case"celeste":e+='<span title="celeste" style="background:#7fddf9"></span>';break;case"naranjo":e+='<span title="naranjo" style="background:#ff5a00"></span>';break;case"menta":e+='<span title="menta" style="background:#91c2a5"></span>';break;case"morado":e+='<span title="morado" style="background:#8e6f9e"></span>';break;case"verde":e+='<span title="verde" style="background:#77ca45"></span>';break;case"fluor":e+='<span title="fluor" style="background:#00ef80"></span>';break;case"burdeo":e+='<span title="burdeo" style="background:#8c3750"></span>';break;case"cafe":e+='<span title="cafe" style="background:brown"></span>';break;case"gris":e+='<span title="gris" style="background:#d4d4d4"></span>';break;case"dorado":e+='<span title="dorado" style="background:#d9b121"></span>';break;case"azul":e+='<span title="azul" style="background:#4660cf"></span>';break;case"arcoiris":e+='<span title="arcoiris" style="background: red;background: -webkit-linear-gradient(left, orange , yellow, green, cyan, blue, violet);background: -o-linear-gradient(right, orange, yellow, green, cyan, blue, violet);background: -moz-linear-gradient(right, orange, yellow, green, cyan, blue, violet);background: linear-gradient(to right, orange , yellow, green, cyan, blue, violet);"></span>';break;case"transparente":e+='<span title="transparente" style="background:#eef8fb"></span>';break;case"cyan":e+='<span title="cyan" style="background:cyan"></span>';break;case"plateado":e+='<span title="plateado" style="background:#eceaea"></span>';break;case"vainilla":e+='<span title="vainilla" style="background:#f1da8a"></span>';break;case"durazno":e+='<span title="durazno" style="background:#f9ccaf"></span>';break;default:console.log(`NaaaN [${n}]`),e+='<span class="nan">?</span>'}if(s==t.split(" ").length-1)return $(a).addClass(l),`${e}`}},getProdByID=function(t,a){t-=1,Promise.all([fetch(bd).then((t=>t.json()))]).then((e=>{var s=e[0].values[t],l=s[0],n=s[1],o=s[2],r=s[3],i=s[7];if(i.split(" ").length>=2){for(var c=0;c<=i.split(" ").length-1;c++)$(".getDetalle .galeria").append(`<img class="lazyload" src="${i.split(" ")[c]}" alt="${o} - ${r}" />`),$(".getDetalle > .galeria > img").click((function(){let t=$(this).attr("src");$(".getDetalle > img").attr("src",t)}));i=i.split(" ")[0]}var d=Number(s[4])+cometa;1==n&&$(`${a}`).append(`\n\t\t\t\t<li data-id="${l}">\n\t\t\t\t\t<a href="/detalle.html?id=${l}" title="${o} ${r}">\n\t\t\t\t\t\t<img class="lazyload" data-src="${i}" alt="${o} ${r}" /> \n\t\t\t\t\t\t<span class="modelo">${r}</span>\n\t\t\t\t\t\t<span class="marca">${o}</span>\n\t\t\t\t\t\t<span class="precio">${puntuacion(d)}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t`)}))},getProdByLogo=function(t){Promise.all([fetch(bd).then((t=>t.json()))]).then((a=>{for(var e=1;e<=a[0].values.length-1;e++){var s=a[0].values[e][2];$(t).html().includes(s)||$(t).append(`\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="/marca.html?marca=${s}" title="${s}">\n\t\t\t\t\t\t\t <img class="lazyload" data-src="../imagenes/marcas/${s}-blanco.svg" alt="${s}" />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t </li>\n\t\t\t\t`)}}))},getProdByMarca=function(t,a){Promise.all([fetch(bd).then((t=>t.json()))]).then((e=>{for(var s=0;s<=e[0].values.length-1;s++){var l=e[0].values[s],n=l[0],o=l[1],r=l[6],i=l[2],c=l[3],d=Number(l[4])+cometa,p=l[5];if("todas"===a)1==o&&$(`${t}`).prepend(`\n\t\t\t\t\t\t<li data-talla="${p}" data-color="${r}" data-id="${n}">\n\t\t\t\t\t\t\t<a href="/detalle.html?id=${n}" title="${i} ${c}">\n\t\t\t\t\t\t\t\t<img class="lazyload" data-src="${u}" alt="${i} ${c}" /> \n\t\t\t\t\t\t\t\t<span class="modelo">${c}</span>\n\t\t\t\t\t\t\t\t<span class="marca">${i}</span>\n\t\t\t\t\t\t\t\t<span class="precio">${puntuacion(d)}</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t`);else{var u=l[7].split(" ")[0];1==o&&i==a&&$(`${t}`).prepend(`\n\t\t\t\t\t<li data-talla="${p}" data-color="${r}" data-id="${n}">\n\t\t\t\t\t\t<a href="/detalle.html?id=${n}" title="${i} ${c}">\n\t\t\t\t\t\t\t\t<img class="lazyload" data-src="${u}" alt="${i} ${c}" /> \n\t\t\t\t\t\t\t\t<span class="modelo">${c}</span>\n\t\t\t\t\t\t\t\t<span class="marca">${i}</span>\n\t\t\t\t\t\t\t\t<span class="precio">${puntuacion(d)}</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t`)}$("img.cargando").hide(),cuentaProductos("h3.resultados")}}))},getProdRelacionado=function(t,a){t-=1,Promise.all([fetch(bd).then((t=>t.json()))]).then((e=>{var s=e[0].values[t],l=s[0],n=s[1],o=s[2],r=s[3],i=s[7];i.split(" ").length>=2&&(i=i.split(" ")[0]);var c=Number(s[4])+cometa;1==n&&$(`${a}`).append(`\n\t\t\t\t<li data-id="${l}">\n\t\t\t\t\t<a href="/detalle.html?id=${l}" title="${o} ${r}">\n\t\t\t\t\t\t<img class="lazyload" data-src="${i}" alt="${o} ${r}" /> \n\t\t\t\t\t\t<span class="modelo">${r}</span>\n\t\t\t\t\t\t<span class="marca">${o}</span>\n\t\t\t\t\t\t<span class="precio">${puntuacion(c)}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t`)}))},setTitle=function(){let t=document.location.pathname;if("/"===t)$("title").html("[CLICKZAPATILLA] Bienvenido");else if("/marca.html"===t)$("title").html(`[CLICKZAPATILLA] | Marca ${location.href.split("marca=")[1].toUpperCase()}`);else if("/busqueda.html"===t)$("title").html(`[CLICKZAPATILLA] | Buscando ${location.href.split("buscador=")[1]}`);else if("/detalle.html"===t){var a={marca:$(".getDetalle > div > p.marca").html(),modelo:$(".getDetalle > div > p.modelo").html(),id:$(".getDetalle > div > p.id").html()};$("title").html(`[CLICKZAPATILLA] | ${capitalize(a.modelo)} - ${capitalize(a.marca)} - ${capitalize(a.id)}`)}else"/terminosycondiciones.html"===t?$("title").html("[CLICKZAPATILLA] | Términos y Condiciones"):$("title").html(`[CLICKZAPATILLA] ${document.location.pathname}`)};setTitle();